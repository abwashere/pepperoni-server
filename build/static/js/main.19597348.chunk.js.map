{"version":3,"sources":["components/auth/PrivateRoute.js","components/NotFound.jsx","api/authApiHandler.js","store/actions/authActions.js","components/navMain/_NavLinksAuth.jsx","components/navMain/_NavLinksAdmin.jsx","components/navMain/_NavLinksClients.jsx","components/navMain/Navbar.jsx","components/homePages/_Banner.jsx","components/homePages/_About.jsx","components/homePages/_Carousel.jsx","assets/img/restaurant/restau-1.jpg","assets/img/restaurant/restau-2.jpg","assets/img/restaurant/restau-3.jpg","assets/img/restaurant/restau-4.jpg","assets/img/restaurant/restau-5.jpg","assets/img/restaurant/restau-6.jpg","components/homePages/_Gallery.jsx","components/homePages/Home.jsx","api/foodApiHandler.js","store/actions/foodActions.js","components/Menu.jsx","api/reservationApiHandler.js","store/actions/reservationActions.js","assets/data/openingHours.js","components/forms/_ReservationForm.jsx","utils/filterCalendarDates.js","components/Reservation.jsx","components/footer/_Contact.jsx","components/footer/_Location.jsx","components/footer/_Timetable.jsx","components/footer/Footer.jsx","components/forms/_LoginForm.jsx","components/auth/LogIn.jsx","components/adminPages/ReservationList.jsx","utils/confirmationPrompts.js","components/forms/_MenuCreateForm.jsx","components/forms/_MenuUpdateForm.jsx","components/adminPages/EditMenu.jsx","api/userApiHandler.js","store/actions/userActions.js","components/forms/_EmployeeRegistrationForm.jsx","components/adminPages/_EmployeesListTable.jsx","components/adminPages/EmployeesList.jsx","App.js","store/reducers/_authReducer.js","store/reducers/_userReducer.js","store/reducers/_foodReducer.js","store/reducers/_reservationReducer.js","store/reducers/rootReducer.js","index.js"],"names":["PrivateRoute","ProtectedComponent","component","rest","auth","useSelector","state","authStore","render","props","isAuthentificated","to","NotFound","className","style","padding","textDecoration","service","axios","create","baseURL","process","withCredentials","api","registerUser","newUser","post","login","creds","isLoggedIn","id","get","logout","errorActionCreator","errorType","error","type","payload","dispatch","a","authApi","res","data","withRouter","useDispatch","cursor","user","privileges","firstName","onClick","localStorage","removeItem","setTimeout","history","push","Navbar","_Banner","_About","carouselImages","url","alt","_Carousel","React","useState","index","setIndex","Carousel","activeIndex","onSelect","selectedIndex","e","map","img","Item","interval","src","Caption","_Gallery","Home","getAllFood","getMeal","createMeal","newMeal","updateMeal","meal","patch","deleteMeal","delete","getMenu","foodApi","updatedInfos","Menu","menu","foodStore","useEffect","category","foodName","description","price","_id","getAllReservations","postSlot","dateTime","postReservation","resa","cancelReservation","getTables","getSlot","reservationApi","reservation","slotID","tableID","amHours","pmHours","dayHours","openingHours","day","hours","_ReservationForm","maxCapacity","slot","reservationStore","Math","max","tables","table","capacity","successMessage","errorMessage","step1","setStep1","Date","startDate","setStartDate","time","setTime","openHours","filter","moment","getDay","seats","client","clientName","clientPhone","clientEmail","booking","setBooking","requestedDate","requestedTime","errorMessageFor","field","unavailability","handleChange","evt","key","target","name","value","Number","handleSubmit","preventDefault","onChange","onSubmit","dateFormat","minDate","maxDate","setMonth","getMonth","filterDate","date","unavailableDate1","unavailableDate2","appDates","selected","required","hidden","hour","i","min","minlength","Reservation","_Contact","href","noopener","_Location","_Timetable","Footer","_LoginForm","pseudo","elements","password","setItem","JSON","stringify","cookie","message","invalidCredentials","LogIn","ReservationList","document","title","reservations","handleDelete","toLocaleString","slice","tableName","checkDelete","prompt","toLowerCase","console","log","beforeDelete","confirmDelete","elementName","callback","foodState","mealData","setMealData","validation","setValidation","validationErr","setValidationErr","callbackCreate","checkCreate","confirmCreate","disabled","default","go","currentMeal","setCurrentMeal","confirmation","setConfirmation","pickedMealId","pickedMeal","initialData","getElementById","match","params","mode","Fragment","getAllUsers","getOneUser","deleteUser","updateUser","userApi","_EmployeeRegistrationForm","lastName","email","_EmployeesListTable","userState","userStore","authState","deletedEmployee","setDeletedEmployee","employeeId","userToDelete","users","find","employee","callbackDelete","EmployeesList","App","exact","path","EditMenu","initState","warningMessage","authReducer","action","response","errors","errorMessages","userReducer","length","pickedUser","foodReducer","isAvailable","reservationReducer","bookedTables","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","sessionCookie","sessionUser","session","parse","currentUser","now","expires","getTime","ReactDOM"],"mappings":"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","file":"static/js/main.19597348.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst PrivateRoute = ({ component: ProtectedComponent, ...rest }) => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tauth.isAuthentificated === true ? (\r\n\t\t\t\t\t<ProtectedComponent {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/admin/login\" />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<div className=\"NotFound\">\r\n\t\t\t<h3 className=\"sub-title\">404 Not Found</h3>\r\n\t\t\t<div>\r\n\t\t\t\tThe page that your are looking for does not exist. <br />\r\n\t\t\t\tGo back to the{\" \"}\r\n\t\t\t\t<Link to=\"/\" style={{ padding: \"0\", textDecoration: \"underline\" }}>\r\n\t\t\t\t\thome page\r\n\t\t\t\t</Link>\r\n\t\t\t\t.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotFound;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/auth\",\r\n\twithCredentials: true, // Cookie is sent to client (used for session)\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tregisterUser(newUser) {\r\n\t\treturn service.post(\"/signup\", newUser);\r\n\t},\r\n\r\n\tlogin(creds) {\r\n\t\treturn service.post(\"/login\", creds);\r\n\t},\r\n\r\n\tisLoggedIn(id) {\r\n\t\treturn service.get(`isLoggedIn/${id}`);\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn service.get(\"/logout\");\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import authApi from \"./../../api/authApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Register new employee */\r\nexport const registerUser = (newUser) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.registerUser(newUser);\r\n\t\t\tdispatch({ type: \"auth/registerUser\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/registerUser_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Log in */\r\nexport const login = (user) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.login(user);\r\n\r\n\t\t\tlocalStorage.setItem(\"sessionCookie\", JSON.stringify(res.data.cookie));\r\n\t\t\tlocalStorage.setItem(\"sessionUser\", JSON.stringify(res.data.user));\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"auth/login\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuser: res.data.user,\r\n\t\t\t\t\tmessage: res.data.successMessage,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/login_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Check logged in user */\r\nexport const isLoggedIn = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.isLoggedIn(id);\r\n\t\t\tdispatch({ type: \"auth/isLoggedIn\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/isLoggedIn_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Logout */\r\nexport const logout = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.logout();\r\n\t\t\tlocalStorage.removeItem(\"sessionCookie\");\r\n\t\t\tlocalStorage.removeItem(\"sessionUser\");\r\n\t\t\tdispatch({ type: \"auth/logout\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/logout_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Clear auth messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"auth/clearMessages\" });\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout, clearMessages } from \"./../../store/actions/authActions\";\r\n\r\nconst _NavLinksAuth = (props) => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logout());\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 4000);\r\n\t\tprops.history.push(\"/admin/login\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"NavLinksAuth\">\r\n\t\t\t<ul className=\"flex-row\">\r\n\t\t\t\t{!auth.isAuthentificated && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<NavLink to=\"/admin/login\" className=\"nav-link\">\r\n\t\t\t\t\t\t\tPersonnel\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{auth.isAuthentificated && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<li className=\"nav-link\" style={{ cursor: \"default\" }}>\r\n\t\t\t\t\t\t\t{auth.user.privileges} : <b>{auth.user.firstName}</b>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{auth.user.privileges === \"admin\" && (\r\n\t\t\t\t\t\t\t<NavLink to=\"/admin/staff\" className=\"nav-link\">\r\n\t\t\t\t\t\t\t\tListe du Personnel\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<li onClick={handleLogout} className=\"nav-link\">\r\n\t\t\t\t\t\t\tDéconnexion\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksAuth);\r\n","import React from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst _NavLinksAdmin = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tif (!auth.isAuthentificated) return <div></div>;\r\n\treturn (\r\n\t\t<div className=\"NavLinks\">\r\n\t\t\t<ul className=\"flex-row sp-center\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink to=\"/admin/menu/update\" className=\"nav-link\">\r\n\t\t\t\t\t\tModifier la carte\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink to=\"/admin/reservations\" className=\"nav-link\">\r\n\t\t\t\t\t\tVoir les réservations\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksAdmin);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst _NavLinksClients = (props) => {\r\n\treturn (\r\n\t\t<div className=\"NavLinks\">\r\n\t\t\t<ul className=\"flex-row sp-center\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\">\r\n\t\t\t\t\t\tLa Carte\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/reservation\" className=\"nav-link\">\r\n\t\t\t\t\t\tRéserver une table\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksClients);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport NavLinksAuth from \"./_NavLinksAuth\";\r\nimport NavLinksAdmin from \"./_NavLinksAdmin\";\r\nimport NavLinksClients from \"./_NavLinksClients\";\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div className=\"NavMain flex-col sp-btw\">\r\n\t\t\t<NavLinksAuth />\r\n\r\n\t\t\t<header className=\"nav-header\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<h1 className=\"nav-title\">Pepperoni .</h1>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<h2 className=\"nav-subtitle\">\r\n\t\t\t\t\t<span>Italian</span> cuisine\r\n\t\t\t\t\t<span> in Paris</span>\r\n\t\t\t\t</h2>\r\n\t\t\t</header>\r\n\r\n\t\t\t<NavLinksAdmin />\r\n\r\n\t\t\t<NavLinksClients />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nconst _Banner = () => {\r\n\treturn (\r\n\t\t<div className=\"Banner flex-col sp-center\">\r\n\t\t\t<h1 className=\"title\">Pepperoni .</h1>\r\n\t\t\t<h2 className=\"banner-title\">\r\n\t\t\t\t<span>Italian</span> cuisine\r\n\t\t\t\t<span> in Paris</span>\r\n\t\t\t</h2>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Banner;\r\n","import React from \"react\";\r\n\r\nconst _About = () => {\r\n\treturn (\r\n\t\t<div className=\"About flex-row sp-center\">\r\n\t\t\t<div className=\"chef-image\"></div>\r\n\t\t\t<div className=\"chef-presentation\">\r\n\t\t\t\t<h2 className=\"sub-title\">Le mot du Chef</h2>\r\n\t\t\t\t<p className=\"citation\">\r\n\t\t\t\t\t\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas maxime\r\n\t\t\t\t\tquidem voluptate nihil nisi. Perspiciatis voluptatum delectus omnis,\r\n\t\t\t\t\tet veritatis distinctio quis non cupiditate nesciunt, molestiae rerum\r\n\t\t\t\t\tmaxime voluptas. <br /> Grazie.\"\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"chef-signature\">Toni 'Peppe' Mattarella</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _About;\r\n","import React from \"react\";\r\n\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n\r\nimport pic1 from \"./../../assets/img/restaurant/restau-1.jpg\";\r\nimport pic2 from \"./../../assets/img/restaurant/restau-2.jpg\";\r\nimport pic3 from \"./../../assets/img/restaurant/restau-3.jpg\";\r\nimport pic4 from \"./../../assets/img/restaurant/restau-4.jpg\";\r\nimport pic5 from \"./../../assets/img/restaurant/restau-5.jpg\";\r\nimport pic6 from \"./../../assets/img/restaurant/restau-6.jpg\";\r\n\r\nconst carouselImages = [\r\n\t{ url: pic1, alt: \"Le Bar\" },\r\n\t{ url: pic2, alt: \"La Cuisine\" },\r\n\t{ url: pic3, alt: \"La Salle\" },\r\n\t{ url: pic4, alt: \"La Salle\" },\r\n\t{ url: pic5, alt: \"La Salle\" },\r\n\t{ url: pic6, alt: \"La Terrasse\" },\r\n];\r\n\r\nconst _Carousel = () => {\r\n\tconst [index, setIndex] = React.useState(0);\r\n\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\treturn (\r\n\t\t<Carousel activeIndex={index} onSelect={handleSelect} className=\"Carousel\">\r\n\t\t\t{carouselImages.map((img, index) => (\r\n\t\t\t\t<Carousel.Item interval={4000} key={index}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block w-9 carousel-pic\"\r\n\t\t\t\t\t\tsrc={img.url}\r\n\t\t\t\t\t\talt={img.alt}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t<p>{img.alt}</p>\r\n\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default _Carousel;\r\n","export default __webpack_public_path__ + \"static/media/restau-1.59b7cdd1.jpg\";","export default __webpack_public_path__ + \"static/media/restau-2.0fa5b68f.jpg\";","export default __webpack_public_path__ + \"static/media/restau-3.fa53906b.jpg\";","export default __webpack_public_path__ + \"static/media/restau-4.33c6db4b.jpg\";","export default __webpack_public_path__ + \"static/media/restau-5.1030acde.jpg\";","export default __webpack_public_path__ + \"static/media/restau-6.12de278b.jpg\";","import React from \"react\";\r\nimport Carousel from \"./_Carousel\";\r\n\r\nconst _Gallery = () => {\r\n\treturn (\r\n\t\t<div className=\"Gallery\">\r\n\t\t\t<h2 className=\"sub-title\">Le restaurant</h2>\r\n\t\t\t<div className=\"carousel-container\">\r\n\t\t\t\t<Carousel />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Gallery;\r\n","import React from \"react\";\r\nimport Banner from \"./_Banner\";\r\nimport About from \"./_About\";\r\nimport Gallery from \"./_Gallery\";\r\n\r\nconst Home = () => {\r\n\treturn (\r\n\t\t<div className=\"Home\">\r\n\t\t\t<Banner />\r\n\t\t\t<About />\r\n\t\t\t<Gallery />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/food\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllFood() {\r\n\t\treturn service.get();\r\n\t},\r\n\r\n\tgetMeal(id) {\r\n\t\treturn service.get(`/${id}`);\r\n\t},\r\n\r\n\tcreateMeal(newMeal) {\r\n\t\treturn service.post(\"/create\", newMeal);\r\n\t},\r\n\r\n\tupdateMeal(id, meal) {\r\n\t\treturn service.patch(`/edit/${id}`, meal);\r\n\t},\r\n\r\n\tdeleteMeal(id) {\r\n\t\treturn service.delete(`/delete/${id}`);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import foodApi from \"./../../api/foodApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get the menu */\r\nexport const getMenu = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.getAllFood();\r\n\t\t\tdispatch({ type: \"food/getMenu\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/getMenu_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Get a meal */\r\nexport const getMeal = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.getMeal(id);\r\n\t\t\tdispatch({ type: \"food/getMeal\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/getMeal_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Create a meal */\r\nexport const createMeal = (newMeal) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.createMeal(newMeal);\r\n\t\t\tdispatch({ type: \"food/create\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/create_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Update a meal */\r\nexport const updateMeal = (id, updatedInfos) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await foodApi.updateMeal(id, updatedInfos);\r\n\t\tdispatch({ type: \"food/update\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"food/update_error\", err));\r\n\t}\r\n};\r\n\r\n/* Delete a meal */\r\nexport const deleteMeal = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await foodApi.deleteMeal(id);\r\n\t\tdispatch({ type: \"food/delete\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"food/delete_error\", err));\r\n\t}\r\n};\r\n\r\n/* Clear menu messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"food/clearMessages\" });\r\n\t};\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { getMenu } from \"./../store/actions/foodActions\";\r\n\r\nconst Menu = (props) => {\r\n\tconst menu = useSelector((state) => state.foodStore.menu);\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getMenu());\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"Menu\">\r\n\t\t\t<h3 className=\"sub-title\">La Carte</h3>\r\n\t\t\t<div className=\"menu menu-starters\">\r\n\t\t\t\t<h4>Antipasti</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"antipasti\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">{meal.foodName}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-description\">{meal.description}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-price\">{meal.price} €</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"menu menu-mains\">\r\n\t\t\t\t<h4>Plats</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"principal\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">{meal.foodName}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-description\">{meal.description}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-price\">{meal.price} €</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"menu menu-deserts\">\r\n\t\t\t\t<h4>Desserts</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"dessert\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t{meal.foodName}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"dish-price\"> - {meal.price} €</span>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Menu;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/tables\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllReservations() {\r\n\t\treturn service.get(\"/reservations\");\r\n\t},\r\n\r\n\tpostSlot(dateTime) {\r\n\t\treturn service.post(\"/slot\", dateTime);\r\n\t},\r\n\r\n\tpostReservation(resa) {\r\n\t\treturn service.post(\"/reservation\", resa);\r\n\t},\r\n\r\n\tcancelReservation(resa) {\r\n\t\treturn service.patch(\"/cancelation\", resa);\r\n\t},\r\n\r\n\tgetTables() {\r\n\t\treturn service.get(\"/\");\r\n\t},\r\n\r\n\tgetSlot(id) {\r\n\t\treturn service.get(`/slot/${id}`);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import reservationApi from \"./../../api/reservationApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get all reservations */\r\nexport const getAllReservations = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.getAllReservations();\r\n\t\t\tdispatch({ type: \"reservation/getReservations\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/getReservations_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Check slot availability */\r\nexport const postSlot = (requestedDate, requestedTime) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.postSlot({\r\n\t\t\t\trequestedDate,\r\n\t\t\t\trequestedTime,\r\n\t\t\t});\r\n\t\t\tdispatch({ type: \"reservation/slot\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/slot_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Book a table on the selected slot */\r\nexport const postReservation = (reservation) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.postReservation(reservation);\r\n\t\t\tdispatch({ type: \"reservation/create\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/create_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Cancel a reservation */\r\nexport const cancelReservation = (slotID, tableID) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.cancelReservation({\r\n\t\t\t\tslotID,\r\n\t\t\t\ttableID,\r\n\t\t\t});\r\n\t\t\tdispatch({ type: \"reservation/cancel\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/cancel_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const getTables = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.getTables();\r\n\t\t\tdispatch({ type: \"tables/getAll\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"tables/getAll_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* getSlot(id) */\r\n\r\n/* Clear menu messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"reservation/clearMessages\" });\r\n\t};\r\n};\r\n","const amHours = [\"12h00\", \"12h30\", \"13h00\", \"13h30\", \"14h00\"];\r\nconst pmHours = [\"19h00\", \"19h30\", \"20h00\", \"20h30\", \"21h00\", \"21h30\", \"22h00\"];\r\nconst dayHours = [...amHours, ...pmHours];\r\n\r\nconst openingHours = [\r\n\t{ day: 0, hours: amHours }, // Sunday\r\n\t{ day: 1, hours: [] }, // Monday\r\n\t{ day: 2, hours: pmHours }, // ...\r\n\t{ day: 3, hours: dayHours },\r\n\t{ day: 4, hours: dayHours },\r\n\t{ day: 5, hours: dayHours },\r\n\t{ day: 6, hours: dayHours }, // Saturday\r\n];\r\n\r\nexport { openingHours };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  postSlot,\r\n  postReservation,\r\n  clearMessages,\r\n} from \"./../../store/actions/reservationActions\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { appDates } from \"./../../utils/filterCalendarDates\";\r\nimport { openingHours } from \"./../../assets/data/openingHours\";\r\n\r\nconst _ReservationForm = () => {\r\n  const dispatch = useDispatch();\r\n  const slot = useSelector((state) => state.reservationStore.slot);\r\n  let maxCapacity;\r\n  if (slot)\r\n    maxCapacity = Math.max(...slot.tables.map((table) => table.capacity));\r\n\r\n  const successMessage = useSelector(\r\n    (state) => state.reservationStore.successMessage\r\n  );\r\n  const errorMessage = useSelector(\r\n    (state) => state.reservationStore.errorMessage\r\n  );\r\n\r\n  const [step1, setStep1] = useState(false);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [time, setTime] = useState(\"\");\r\n  const openHours = openingHours.filter(\r\n    (moment) => moment.day === startDate?.getDay()\r\n  )[0].hours;\r\n\r\n  const [booking, setBooking] = useState({\r\n    slotID: \"\",\r\n    seats: \"\",\r\n    client: { clientName: \"\", clientPhone: \"\", clientEmail: \"\" },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (startDate && time) {\r\n      dispatch(postSlot(startDate, time));\r\n      setStep1(true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [startDate, time]);\r\n\r\n  useEffect(() => {\r\n    slot && setBooking({ ...booking, slotID: slot._id });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [slot]);\r\n\r\n  const errorMessageFor = (field) => {\r\n    if (errorMessage?.[field])\r\n      if (field === \"unavailability\") {\r\n        return (\r\n          <div className=\"form-error-msg\">\r\n            {errorMessage.unavailability}\r\n            <br /> :(\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"form-error-msg\">\r\n            <i className=\"fas fa-exclamation-triangle\"></i>\r\n            {\"   \"}\r\n            {errorMessage[field]}\r\n          </div>\r\n        );\r\n      }\r\n  };\r\n\r\n  const handleChange = (evt) => {\r\n    const key = evt.target.name;\r\n    const value = evt.target.value;\r\n    if (key === \"time\") setTime(value);\r\n    else if (key === \"seats\") setBooking({ ...booking, seats: Number(value) });\r\n    else\r\n      setBooking({ ...booking, client: { ...booking.client, [key]: value } });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    await dispatch(postReservation(booking));\r\n\r\n    setTimeout(() => {\r\n      dispatch(clearMessages());\r\n      // if (!errorMessage) setStep1(false);\r\n    }, 10000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ReservationForm form-container\">\r\n      {/* Success Message */}\r\n      {successMessage && <div className=\"info-box\">{successMessage}</div>}\r\n      <form\r\n        className=\"mui-form\"\r\n        onChange={handleChange}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <div className=\"flex-row\">\r\n          {/* Part 1 : Client pick a date and amount of seats desired */}\r\n          <div className=\"form-left-side\">\r\n            {/* ---------------Reservation Date */}\r\n            <div className=\"mui-select\">\r\n              <DatePicker\r\n                className=\"datepicker\"\r\n                dateFormat=\"yyyy-MM-dd\"\r\n                minDate={new Date()}\r\n                maxDate={new Date().setMonth(new Date().getMonth() + 2)} // tables can be booked within the 2 next months\r\n                filterDate={(date) => appDates(date, 1)} // Mondays are excluded\r\n                selected={startDate}\r\n                onChange={(date) => {\r\n                  setStartDate(date);\r\n                  setTime(\"\");\r\n                }}\r\n                required={true}\r\n              />\r\n              <label>Date</label>\r\n            </div>\r\n            {/* ---------------Reservation Hour */}\r\n            <div className=\"mui-select\">\r\n              <select name=\"time\" onChange={handleChange} value={time} required>\r\n                <option hidden={true}>Choix</option>\r\n                {openHours &&\r\n                  openHours.map((hour, i) => <option key={i}>{hour}</option>)}\r\n              </select>\r\n              <label>Heure</label>\r\n            </div>\r\n            {/* Error Messages */}\r\n            {errorMessageFor(\"time\")}\r\n            {errorMessageFor(\"unavailability\")}\r\n          </div>\r\n\r\n          {/* Part 2 */}\r\n          {step1 && (\r\n            <div className=\"form-right-side\">\r\n              {/* ---------------Reservation Seats */}\r\n              <div className=\"mui-textfield mui-textfield--float-label\">\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max={maxCapacity}\r\n                  name=\"seats\"\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <label>Nombre de personnes</label>\r\n              </div>\r\n              {errorMessageFor(\"capacity\")}\r\n              {/* ---------------ClientName */}\r\n              <div className=\"mui-textfield mui-textfield--float-label\">\r\n                <input\r\n                  aria-label=\"nom pour la réservation\"\r\n                  type=\"text\"\r\n                  minlength=\"2\"\r\n                  name=\"clientName\"\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <label>Votre nom</label>\r\n              </div>\r\n              {errorMessageFor(\"clientName\")}\r\n              {/* ---------------ClientPhone */}\r\n              <div className=\"mui-textfield mui-textfield--float-label\">\r\n                <input\r\n                  aria-label=\"numéro de téléphone\"\r\n                  type=\"tel\"\r\n                  name=\"clientPhone\"\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <label>Téléphone</label>\r\n              </div>\r\n              {errorMessageFor(\"clientPhone\")}\r\n              {/* ---------------ClientEmail */}\r\n              <div className=\"mui-textfield mui-textfield--float-label\">\r\n                <input\r\n                  aria-label=\"votre adresse email\"\r\n                  type=\"email\"\r\n                  name=\"clientEmail\"\r\n                  onChange={handleChange}\r\n                />\r\n                <label>Email (optionnel)</label>\r\n              </div>\r\n              {errorMessageFor(\"clientEmail\")}\r\n\r\n              {/* ------------------------------------------------------------ */}\r\n              <div className=\"information-text\">\r\n                Nos tables accueillent jusqu'à {maxCapacity} couverts. <br />\r\n                Si vous souhaitez réserver pour un plus grand nombre de\r\n                personnes, merci de nous appeler directement.\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                onSubmit={handleSubmit}\r\n                className=\"mui-btn mui-btn--raised\"\r\n              >\r\n                Réserver\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default _ReservationForm;\r\n","export const isWeekday = (date) => {\r\n\tconst day = new Date(date).getDay();\r\n\treturn day !== 0 && day !== 6;\r\n};\r\n\r\nexport const appDates = (date, unavailableDate1, unavailableDate2) => {\r\n\tconst day = new Date(date).getDay();\r\n\treturn day !== unavailableDate1 && day !== unavailableDate2;\r\n};\r\n//unavailableDay = index of day starting on Sunday\r\n//Sunday -> Saturday : 0 -> 6\r\n","import React from \"react\";\r\nimport ReservationForm from \"./forms/_ReservationForm\";\r\n\r\nconst Reservation = () => {\r\n\treturn (\r\n\t\t<div className=\"Reservation\">\r\n\t\t\t<h2 className=\"sub-title\">Réserver une table</h2>\r\n\t\t\t<ReservationForm />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Reservation;\r\n","import React from \"react\";\r\n\r\nconst _Contact = () => {\r\n\treturn (\r\n\t\t<div className=\"Contact\">\r\n\t\t\t<div className=\"contact\">\r\n\t\t\t\t<p className=\"col-title\">CONTACT</p>\r\n\t\t\t\t<p data-testid=\"pepperoni-phone-number\">\r\n\t\t\t\t\t<i className=\"fas fa-phone fa-sm icon\"></i> 01 23 45 67 89\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"contact\">\r\n\t\t\t\t<p className=\"col-title\">NOS RESEAUX SOCIAUX</p>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<a href=\"/\" noopener=\"true\">\r\n\t\t\t\t\t\t<i className=\"fab fa-facebook-f fa-2x icon\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href=\"/\" noopener=\"true\">\r\n\t\t\t\t\t\t<i className=\"fab fa-instagram fa-2x icon\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Contact;\r\n","import React from \"react\";\r\n\r\nconst _Location = () => {\r\n\treturn (\r\n\t\t<div className=\"Location\">\r\n\t\t\t<p className=\"col-title\">NOTRE ADRESSE</p>\r\n\t\t\t<p>Restaurant Pepperoni</p>\r\n\t\t\t<p>123 avenue d'Italie</p>\r\n\t\t\t<p>75013 Paris</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Location;\r\n","import React from \"react\";\r\n\r\nconst _Timetable = () => {\r\n\treturn (\r\n\t\t<div className=\"Timetable\">\r\n\t\t\t<p className=\"col-title\">HORAIRES D'OUVERTURE</p>\r\n\t\t\t<div className=\"table\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Lundi</th>\r\n\t\t\t\t\t\t\t<td>Fermé</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Mardi</th>\r\n\t\t\t\t\t\t\t<td>Fermé le midi</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Mercredi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Jeudi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Vendredi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Samedi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Dimanche</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>Fermé le soir</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Timetable;\r\n","import React from \"react\";\r\nimport Contact from \"./_Contact\";\r\nimport Location from \"./_Location\";\r\nimport Timetable from \"./_Timetable\";\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"Footer flex-row sp-btw align-start\">\r\n\t\t\t<Contact />\r\n\t\t\t<Location />\r\n\t\t\t<Timetable />\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { login, clearMessages } from \"./../../store/actions/authActions\";\r\n\r\nconst _LoginForm = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tlogin({\r\n\t\t\t\tpseudo: evt.target.elements[0].value,\r\n\t\t\t\tpassword: evt.target.elements[1].value,\r\n\t\t\t})\r\n\t\t);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 4000);\r\n\t\tevt.target.elements[1].value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"LoginForm form-container\">\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"pseudo\" required />\r\n\t\t\t\t\t<label>Pseudo</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Invalid pseudo Message */}\r\n\t\t\t\t{auth.invalidCredentials?.pseudo && (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t{auth.invalidCredentials.pseudo}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"password\" name=\"password\" required />\r\n\t\t\t\t\t<label>Mot de passe</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Invalid password Message */}\r\n\t\t\t\t{auth.invalidCredentials?.password && (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t{auth.invalidCredentials.password}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"mui-btn edit\">\r\n\t\t\t\t\tValider\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{auth.successMessage && (\r\n\t\t\t\t<div className=\"info-box\">{auth.successMessage}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _LoginForm;\r\n","import React from \"react\";\r\nimport LoginForm from \"../forms/_LoginForm\";\r\n\r\nconst LogIn = () => {\r\n\treturn (\r\n\t\t<div className=\"Login AdminPage\">\r\n\t\t\t<header className=\"form-header\">\r\n\t\t\t\t<h2 className=\"sub-title\">Espace réservé au personnel</h2>\r\n\t\t\t\t<h3>Entrez vos identifiants</h3>\r\n\t\t\t</header>\r\n\t\t\t<LoginForm />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LogIn;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tgetAllReservations,\r\n\tcancelReservation,\r\n\tclearMessages,\r\n} from \"./../../store/actions/reservationActions\";\r\n\r\nconst ReservationList = () => {\r\n\tdocument.title = \"Admin | réservations\";\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getAllReservations());\r\n\t}, [dispatch]);\r\n\r\n\tconst reservations = useSelector(\r\n\t\t(state) => state.reservationStore.reservations\r\n\t);\r\n\tconst successMessage = useSelector(\r\n\t\t(state) => state.reservationStore.successMessage\r\n\t);\r\n\r\n\tconst handleDelete = async (slot, table) => {\r\n\t\tawait dispatch(cancelReservation(slot._id, table._id));\r\n\t\tawait dispatch(getAllReservations());\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tconst beforeDelete = (slot, table) => {\r\n\t\tlet checkDelete = prompt(\r\n\t\t\t`Etes-vous sûr(e) de vouloir supprimer cette réservation ? => ${slot.date\r\n\t\t\t\t.toLocaleString(\"fr-FR\")\r\n\t\t\t\t.slice(0, 10)} à ${slot.time}, au nom de ${\r\n\t\t\t\ttable.reservation[0].clientName\r\n\t\t\t}. Si oui, entrez 'o'.`,\r\n\t\t\t\"non\"\r\n\t\t);\r\n\t\tcheckDelete !== null && checkDelete.toLowerCase() === \"o\"\r\n\t\t\t? handleDelete(slot, table)\r\n\t\t\t: console.log(\"Abort delete\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ReservationList AdminPage\">\r\n\t\t\t<h2 className=\"sub-title\">Gérer les réservations</h2>\r\n\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t<th>Heure</th>\r\n\t\t\t\t\t\t<th>Table</th>\r\n\t\t\t\t\t\t<th>Couverts</th>\r\n\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t<th>Téléphone</th>\r\n\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{reservations?.map((slot) =>\r\n\t\t\t\t\t\tslot.tables.map((table) => (\r\n\t\t\t\t\t\t\t<tr key={table._id} className=\"reservation row\">\r\n\t\t\t\t\t\t\t\t<td>{slot.date.toLocaleString(\"fr-FR\").slice(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>{slot.time}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.tableName}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.capacity}</td>\r\n\t\t\t\t\t\t\t\t{/* TODO: mettre le nombre réels de places réservées => changer le tableModel */}\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientName}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientPhone}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientEmail}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => beforeDelete(slot, table)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn delete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash-alt fa-sm\"></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{successMessage && <div className=\"info-box\">{successMessage}</div>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReservationList;\r\n","export const confirmDelete = (elementName, callback) => {\r\n\tconsole.log(\"Trying to delete =>\", elementName);\r\n\tlet checkDelete = prompt(\r\n\t\t`Etes-vous sûr(e) de vouloir supprimer ${elementName} ? \\nSi oui, entrez \"o\".`,\r\n\t\t\"non\"\r\n\t);\r\n\tcheckDelete !== null && checkDelete.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort delete\");\r\n};\r\n\r\nexport const confirmCreate = (elementName, callback) => {\r\n\tconsole.log(\"Trying to create =>\", elementName);\r\n\tlet checkCreate = prompt(\r\n\t\t`Etes-vous sûr(e) de vouloir ajouter ${elementName} ? \\nSi oui, entrez \"o\".`,\r\n\t\t\"non\"\r\n\t);\r\n\tcheckCreate !== null && checkCreate.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort create\");\r\n};\r\n\r\nexport const confirmCancel = (callback) => {\r\n\tlet checkCancel = prompt(\r\n\t\t'Etes-vous sûr(e) de vouloir annuler ? \\nSi oui, entrez \"o\".',\r\n\t\t\"non\"\r\n\t);\r\n\tcheckCancel !== null && checkCancel.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort delete\");\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createMeal, clearMessages } from \"../../store/actions/foodActions\";\r\nimport { confirmCreate } from \"../../utils/confirmationPrompts\";\r\n\r\nconst _MenuCreateForm = (props) => {\r\n\tconst foodState = useSelector((state) => state.foodStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [mealData, setMealData] = useState();\r\n\tconst [validation, setValidation] = useState(false);\r\n\tconst [validationErr, setValidationErr] = useState(false);\r\n\r\n\t// Empty fields check\r\n\tuseEffect(() => {\r\n\t\tif (!mealData) {\r\n\t\t\t//this condition prevents error message to appear at first render\r\n\t\t\tsetValidationErr(false);\r\n\t\t} else if (mealData.category === \"dessert\") {\r\n\t\t\tmealData.foodName && mealData.price\r\n\t\t\t\t? setValidationErr(false)\r\n\t\t\t\t: setValidationErr(true);\r\n\t\t} else {\r\n\t\t\tmealData.foodName && mealData.price && mealData.description\r\n\t\t\t\t? setValidationErr(false)\r\n\t\t\t\t: setValidationErr(true);\r\n\t\t}\r\n\t}, [mealData]);\r\n\r\n\t// Form events/functions\r\n\tconst handleChange = (e) =>\r\n\t\tsetMealData({ ...mealData, [e.target.name]: e.target.value });\r\n\r\n\tconst handleReset = () => props.history.go(0);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet callbackCreate = async () => {\r\n\t\t\tawait dispatch(createMeal(mealData));\r\n\t\t\tif (!foodState.errorMessage) setValidation(true);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetValidation(false);\r\n\t\t\t\t// if (!foodState.errorMessage) handleReset();\r\n\t\t\t\tdispatch(clearMessages());\r\n\t\t\t}, 6000);\r\n\t\t};\r\n\r\n\t\tconfirmCreate(mealData.foodName, callbackCreate); //func that calls the callbackCreate func after confirmation\r\n\t};\r\n\r\n\t// Messages\r\n\tconst displayMessage = () => {\r\n\t\tif (validationErr)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i> Veuillez renseigner\r\n\t\t\t\t\ttous les champs. <br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tif (foodState.errorMessage)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>{\" \"}\r\n\t\t\t\t\t{foodState.errorMessage.foodName}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tif (validation)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\t{mealData.foodName} a bien été ajouté à la carte.\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenuForm form-container\">\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"mui-form\"\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t{/* --  NAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"foodName\" required />\r\n\t\t\t\t\t<label>Nom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  CATEGORY  */}\r\n\t\t\t\t<div className=\"mui-select mui-select--float-label\">\r\n\t\t\t\t\t<select name=\"category\" required>\r\n\t\t\t\t\t\t<option hidden={true}></option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tChoisir une catégorie de plat\r\n\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t<option value=\"antipasti\">antipasti</option>\r\n\t\t\t\t\t\t<option value=\"principal\">principal</option>\r\n\t\t\t\t\t\t<option value=\"dessert\">dessert</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Catégorie</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  PRICE  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"number\" name=\"price\" min=\"1\" required />\r\n\t\t\t\t\t<label>Prix</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  DESC  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<textarea name=\"description\"></textarea>\r\n\t\t\t\t\t<label>Description</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  MESSAGES */}\r\n\t\t\t\t<>{displayMessage()}</>\r\n\t\t\t\t<div className=\"information-text\">\r\n\t\t\t\t\tLa description n'est pas requise pour les desserts.\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  BUTTONS  */}\r\n\t\t\t\t<div className=\"btn-group flex-row sp-btw\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={validationErr}\r\n\t\t\t\t\t\tclassName=\"mui-btn edit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i> Enregistrer\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i> Effacer le formulaire\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_MenuCreateForm);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n\tgetMenu,\r\n\tupdateMeal,\r\n\tdeleteMeal,\r\n} from \"../../store/actions/foodActions\";\r\nimport { confirmDelete } from \"../../utils/confirmationPrompts\";\r\n\r\nconst _MenuUpdateForm = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\t//load the menu at first render and dispatch calls\r\n\tuseEffect(() => {\r\n\t\tdispatch(getMenu());\r\n\t}, [dispatch]);\r\n\r\n\tconst menu = useSelector((state) => state.foodStore.menu);\r\n\r\n\t//initial state with the properties of a meal\r\n\tconst [currentMeal, setCurrentMeal] = useState({});\r\n\tconst [confirmation, setConfirmation] = useState(false);\r\n\r\n\t//empty fields check\r\n\tconst validationErr = !currentMeal.foodName || !currentMeal.price || null;\r\n\r\n\t//events/functions\r\n\tconst handleChange = (e) => {\r\n\t\tif (e.target.name === \"pickedMeal\") {\r\n\t\t\tlet pickedMealId = e.target.value;\r\n\t\t\tlet pickedMeal = menu.filter((meal) => meal._id === pickedMealId)[0];\r\n\t\t\tsetCurrentMeal({\r\n\t\t\t\t...pickedMeal,\r\n\t\t\t\tdescription: pickedMeal.description || \"\", //because desert don't have description => prevents the other meals description to persist in state\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetCurrentMeal({ ...currentMeal, [e.target.name]: e.target.value });\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleReset = (e) => {\r\n\t\tconst initialData = menu.filter((meal) => meal._id === currentMeal._id)[0];\r\n\t\tsetCurrentMeal(initialData);\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateMeal(currentMeal._id, currentMeal));\r\n\t\tsetConfirmation(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetConfirmation(false);\r\n\t\t}, 6000);\r\n\t};\r\n\r\n\tconst handleDelete = (e) => {\r\n\t\t//this function handles the actual delete\r\n\t\tlet callbackDelete = () => {\r\n\t\t\tdispatch(deleteMeal(currentMeal._id));\r\n\t\t\t//then, clear all fields :\r\n\t\t\tsetCurrentMeal({});\r\n\t\t\tdocument.getElementById(\"pickedMeal\").value = \"\";\r\n\t\t};\r\n\t\t//this function asks for confirmation and if so, executes the callbackDelete function\r\n\t\tconfirmDelete(currentMeal.foodName, callbackDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenuForm form-container\">\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t{/* -- SELECTION => get the ID of selected meal */}\r\n\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"pickedMeal\"\r\n\t\t\t\t\t\tid=\"pickedMeal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option hidden={true}>Plats de la carte</option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tPlats de la carte\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{menu.map((meal) => (\r\n\t\t\t\t\t\t\t<option key={meal._id} value={meal._id}>\r\n\t\t\t\t\t\t\t\t{meal.foodName}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Plat à modifier</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMeal._id && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{/* -- EDIT NAME  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"foodName\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.foodName}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>Modifier le nom</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT CATEGORY  */}\r\n\t\t\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.category}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option hidden={true}>\r\n\t\t\t\t\t\t\t\t\t{currentMeal.category &&\r\n\t\t\t\t\t\t\t\t\t\t`Catégorie initiale : ${currentMeal.category}`}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\t\t\tCatégorie initiale : {currentMeal.category}\r\n\t\t\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t\t\t<option value=\"antipasti\">antipasti</option>\r\n\t\t\t\t\t\t\t\t<option value=\"principal\">principal</option>\r\n\t\t\t\t\t\t\t\t<option value=\"dessert\">dessert</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t<label>Modifier la catégorie</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT PRICE  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.price}\r\n\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>Modifier le prix</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT DESCRIPTION  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.description}\r\n\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t\t<label>Modifier la description</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* UPDATE CONFIRMATION MESSAGE */}\r\n\t\t\t\t\t\t{confirmation && (\r\n\t\t\t\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\t\t\t\tVos modifications ont bien été prises en compte.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{validationErr && (\r\n\t\t\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i> Veuillez\r\n\t\t\t\t\t\t\t\trenseigner tous les champs.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* -- BUTTONS  */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\" //prevent form submit\r\n\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i> Effacer les modifications\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div className=\"btn-group flex-row sp-btw\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\" //prevent form submit\r\n\t\t\t\t\t\t\t\tonClick={handleDelete}\r\n\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-trash-alt\"></i> Supprimer le plat\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={validationErr} //prevent form submit if a required field is empty\r\n\t\t\t\t\t\t\t\tclassName=\"mui-btn edit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-pen-fancy\"></i> Modifier\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_MenuUpdateForm);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport MenuCreateForm from \"../forms/_MenuCreateForm\";\r\nimport MenuUpdateForm from \"../forms/_MenuUpdateForm\";\r\n\r\nconst EditMenu = (props) => {\r\n\tdocument.title = \"Admin | modification menu\";\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenu AdminPage\">\r\n\t\t\t{props.match.params.mode === \"update\" && (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<header className=\"form-header\">\r\n\t\t\t\t\t\t<h2 className=\"sub-title\">Modifier la carte</h2>\r\n\t\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\" target=\"_blank\">\r\n\t\t\t\t\t\t\tVoir la carte\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/admin/menu/create\" className=\"nav-link\">\r\n\t\t\t\t\t\t\tAjouter un plat\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<MenuUpdateForm />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)}\r\n\t\t\t{props.match.params.mode === \"create\" && (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<header className=\"form-header\">\r\n\t\t\t\t\t\t<h2 className=\"sub-title\">Ajouter un plat</h2>\r\n\t\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\" target=\"_blank\">\r\n\t\t\t\t\t\t\tVoir la carte\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<MenuCreateForm />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(EditMenu);\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/users\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllUsers() {\r\n\t\treturn service.get(\"/\");\r\n\t},\r\n\r\n\tgetOneUser(id) {\r\n\t\treturn service.get(`/${id}`);\r\n\t},\r\n\r\n\tdeleteUser(id) {\r\n\t\treturn service.delete(`/delete/${id}`);\r\n\t},\r\n\r\n\tupdateUser(id, user) {\r\n\t\treturn service.patch(`/edit/${id}`, user);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import userApi from \"./../../api/userApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get the employees list */\r\nexport const getAllUsers = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await userApi.getAllUsers();\r\n\t\t\tdispatch({ type: \"users/getAllUsers\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"users/getAllUsers_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Get one employee */\r\nexport const getUser = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await userApi.getOneUser(id);\r\n\t\t\tdispatch({ type: \"users/getUser\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"users/getUser_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Update employee's infos */\r\nexport const updateUser = (id, updatedInfos) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await userApi.updateUser(id, updatedInfos);\r\n\t\tdispatch({ type: \"users/update\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"users/update_error\", err));\r\n\t}\r\n};\r\n\r\n/* Delete an employee */\r\nexport const deleteUser = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await userApi.deleteUser(id);\r\n\t\tdispatch({ type: \"users/delete\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"users/delete_error\", err));\r\n\t}\r\n};\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { registerUser, clearMessages } from \"./../../store/actions/authActions\";\r\nimport { getAllUsers } from \"./../../store/actions/userActions\";\r\n\r\nconst _EmployeeRegistrationForm = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleSubmit = async (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tconst newUser = {\r\n\t\t\tlastName: evt.target.elements[0].value,\r\n\t\t\tfirstName: evt.target.elements[1].value,\r\n\t\t\temail: evt.target.elements[2].value,\r\n\t\t\tpassword: evt.target.elements[3].value,\r\n\t\t\tprivileges: evt.target.elements[4].value,\r\n\t\t};\r\n\r\n\t\tawait dispatch(registerUser(newUser));\r\n\t\tawait dispatch(getAllUsers());\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tconst errorMessageFor = (field) => {\r\n\t\tif (auth.invalidCredentials?.[field])\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t{auth.invalidCredentials[field]}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EmployeeRegistrationForm form-container\">\r\n\t\t\t<h3>Enregistrer un(e) nouvel(le) employé(e)</h3>\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t{/* --  LASTNAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"lastName\" required />\r\n\t\t\t\t\t<label>Nom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"lastName\")}\r\n\r\n\t\t\t\t{/* --  FIRSTNAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"firstName\" required />\r\n\t\t\t\t\t<label>Prénom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"firstName\")}\r\n\r\n\t\t\t\t{/* --  EMAIL  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"email\" name=\"email\" required />\r\n\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"email\")}\r\n\r\n\t\t\t\t{/* --  PASSWORD  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"password\" name=\"email\" required />\r\n\t\t\t\t\t<label>Mot de passe</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"password\")}\r\n\r\n\t\t\t\t{/* --  PRIVILEGE  */}\r\n\t\t\t\t<div className=\"mui-select mui-select--float-label\">\r\n\t\t\t\t\t<select name=\"privileges\" required>\r\n\t\t\t\t\t\t<option hidden={true}></option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tChoisir une catégorie (manager et chef sont admin)\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"admin\">Manager ou Chef</option>\r\n\t\t\t\t\t\t<option value=\"employee\">Serveur(euse) ou commis</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Catégorie d'emploi</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"privileges\")}\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"mui-btn mui-btn--flat mui\">\r\n\t\t\t\t\tEnregistrer\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{auth.successMessage && (\r\n\t\t\t\t<div className=\"info-box\">{auth.successMessage}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _EmployeeRegistrationForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAllUsers, deleteUser } from \"./../../store/actions/userActions\";\r\nimport { confirmDelete } from \"./../../utils/confirmationPrompts\";\r\n\r\nconst _EmployeesListTable = () => {\r\n\tconst userState = useSelector((state) => state.userStore);\r\n\tconst authState = useSelector((state) => state.authStore);\r\n\tconst [deletedEmployee, setDeletedEmployee] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getAllUsers());\r\n\t}, [dispatch]);\r\n\r\n\tconst handleDelete = (e) => {\r\n\t\tconst employeeId = e.target.value;\r\n\t\tconst userToDelete = userState.users.find(\r\n\t\t\t(employee) => employee._id === employeeId\r\n\t\t);\r\n\r\n\t\tlet callbackDelete = async () => {\r\n\t\t\tawait dispatch(deleteUser(employeeId));\r\n\t\t\tawait dispatch(getAllUsers());\r\n\r\n\t\t\tif (!userState.errorMessage) setDeletedEmployee(userToDelete);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetDeletedEmployee(null);\r\n\t\t\t}, 3000);\r\n\t\t};\r\n\r\n\t\tconfirmDelete(\r\n\t\t\t`${userToDelete.firstName} ${userToDelete.lastName} du staff`,\r\n\t\t\tcallbackDelete\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{deletedEmployee && (\r\n\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\tVous venez de supprimer {deletedEmployee.firstName}{\" \"}\r\n\t\t\t\t\t{deletedEmployee.lastName} du staff.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<table className=\"table of-employees\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t<th>Prénom</th>\r\n\t\t\t\t\t\t<th>Pseudo</th>\r\n\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{userState.users.map((employee) => (\r\n\t\t\t\t\t\t<tr key={employee._id} className=\"row\">\r\n\t\t\t\t\t\t\t<td>{employee.lastName}</td>\r\n\t\t\t\t\t\t\t<td>{employee.firstName}</td>\r\n\t\t\t\t\t\t\t<td>{employee.pseudo}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{employee.privileges === \"admin\"\r\n\t\t\t\t\t\t\t\t\t? \"Manager/Chef(fe)\"\r\n\t\t\t\t\t\t\t\t\t: \"Serveur(euse)/Commis\"}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{authState.user._id !== employee._id && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={employee._id}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleDelete}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn delete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default _EmployeesListTable;\r\n","import React from \"react\";\r\nimport EmployeeRegistrationForm from \"../forms/_EmployeeRegistrationForm\";\r\nimport EmployeesListTable from \"./_EmployeesListTable\";\r\n\r\nconst EmployeesList = () => {\r\n\tdocument.title = \"Admin | personnel\";\r\n\r\n\treturn (\r\n\t\t<div className=\"EmployeesList AdminPage\">\r\n\t\t\t<h2 className=\"sub-title\">Liste du personnel</h2>\r\n\r\n\t\t\t<div className=\"flex-row sp-btw align-start\">\r\n\t\t\t\t<EmployeesListTable />\r\n\t\t\t\t<EmployeeRegistrationForm />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EmployeesList;\r\n","import \"./styles/App.sass\";\n\nimport { Route, BrowserRouter, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./components/auth/PrivateRoute\";\nimport NotFound from \"./components/NotFound\";\nimport Navbar from \"./components/navMain/Navbar\";\nimport Home from \"./components/homePages/Home\";\nimport Menu from \"./components/Menu\";\nimport Reservation from \"./components/Reservation\";\nimport Footer from \"./components/footer/Footer\";\nimport LogIn from \"./components/auth/LogIn\";\nimport ReservationList from \"./components/adminPages/ReservationList\";\nimport EditMenu from \"./components/adminPages/EditMenu\";\nimport EmployeesList from \"./components/adminPages/EmployeesList\";\n\nfunction App() {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Navbar />\n\n\t\t\t\t<Switch>\n\t\t\t\t\t{/* PUBLIC ROUTES */}\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/menu\" component={Menu} />\n\t\t\t\t\t<Route exact path=\"/reservation\" component={Reservation} />\n\n\t\t\t\t\t{/* ADMIN ROUTES */}\n\t\t\t\t\t<Route path=\"/admin/login\" component={LogIn} />\n\t\t\t\t\t<PrivateRoute path=\"/admin/staff\" component={EmployeesList} />\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tpath=\"/admin/reservations\"\n\t\t\t\t\t\tcomponent={ReservationList}\n\t\t\t\t\t/>\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tpath=\"/admin/menu/:mode(create|update)\"\n\t\t\t\t\t\tcomponent={EditMenu}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"*\" component={NotFound} />\n\t\t\t\t</Switch>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","const initState = {\r\n\tisAuthentificated: false,\r\n\tuser: null, // = {_id, firstName, privileges}\r\n\tsuccessMessage: null,\r\n\tinvalidCredentials: null,\r\n\twarningMessage: null,\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/registerUser\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage || null,\r\n\t\t\t\tinvalidCredentials: null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/registerUser_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/login\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: action.payload ? true : false,\r\n\t\t\t\tuser: action.payload.user || null,\r\n\t\t\t\tsuccessMessage: action.payload.message || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/login_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/isLoggedIn\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: action.payload ? true : false,\r\n\t\t\t\tuser: action.payload.user || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/isLoggedIn_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/logout\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: null,\r\n\t\t\t\tinvalidCredentials: null,\r\n\t\t\t\twarningMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","const initState = {\r\n\tusers: [],\r\n\terrorMessages: null,\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"users/getAllUsers\":\r\n\t\t\tconsole.log(\"reducer got : \" + action.payload.length + \" employees\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"users/getAllUsers_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/getUser\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpickedUser: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"users/getUser_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/update\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((user) =>\r\n\t\t\t\t\tuser._id === action.payload._id ? action.payload : user\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"users/update_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/delete\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.filter((user) => user._id !== action.payload._id),\r\n\t\t\t};\r\n\r\n\t\tcase \"users/delete_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","const initState = {\r\n\tmenu: [],\r\n\terrorMessage: null,\r\n};\r\n\r\nconst foodReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"food/getMenu\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"food/getMenu_error\":\r\n\t\t\tconsole.log(\"reducer => fail to get the menu: \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/getMeal\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpickedMeal: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"food/getMeal_error\":\r\n\t\t\tconsole.log(\"reducer => fail to getting a meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/create\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: [...state.menu, action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase \"food/create_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create meal:\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/update\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: state.menu.map((meal) =>\r\n\t\t\t\t\tmeal._id === action.payload._id ? action.payload : meal\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"food/update_error\":\r\n\t\t\tconsole.log(\"reducer => fail to update meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/delete\":\r\n\t\t\tconsole.log(\"deleted : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: state.menu.filter((meal) => meal._id !== action.payload._id),\r\n\t\t\t};\r\n\r\n\t\tcase \"food/delete_error\":\r\n\t\t\tconsole.log(\"reducer => fail to delete meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default foodReducer;\r\n","const initState = {\r\n\treservations: [],\r\n\tslot: null,\r\n\tclient: null,\r\n\tisAvailable: false,\r\n\ttables: [],\r\n\tmessage: null,\r\n\tsuccessMessage: null,\r\n\terrorMessage: null,\r\n};\r\n\r\nconst reservationReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/getReservations\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: action.payload.bookedTables,\r\n\t\t\t\tmessage: action.payload.message || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/getReservations_error\":\r\n\t\t\tconsole.log(\"reducer => fail to get the reservations: \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: [],\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/slot\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: action.payload.slot,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/slot_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create/get slot :\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: null,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/create\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: action.payload.slot,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/create_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create reservation:\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/cancel\":\r\n\t\t\tconsole.log(\"canceled : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage,\r\n\t\t\t\treservations: state.reservations.filter(\r\n\t\t\t\t\t(reservation) => reservation._id !== action.payload.slot._id\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/cancel_error\":\r\n\t\t\tconsole.log(\"reducer => failed to cancel reservation:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"tables/getAll\":\r\n\t\t\tconsole.log(\"list of tables : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttables: action.payload.tables,\r\n\t\t\t};\r\n\r\n\t\tcase \"tables/getAll_error\":\r\n\t\t\tconsole.log(\"reducer => failed to get tables:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessage: null,\r\n\t\t\t\tsuccessMessage: null,\r\n\t\t\t\terrorMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./_authReducer\";\r\nimport userReducer from \"./_userReducer\";\r\nimport foodReducer from \"./_foodReducer\";\r\nimport reservationReducer from \"./_reservationReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n\tauthStore: authReducer,\r\n\tuserStore: userReducer,\r\n\tfoodStore: foodReducer,\r\n\treservationStore: reservationReducer,\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./App\";\r\n\r\n/* Redux store */\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./store/reducers/rootReducer\";\r\nimport { isLoggedIn } from \"./store/actions/authActions\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tcomposeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\n/* Authentification check */\r\n\r\nif (process.env.REACT_APP_NODE_ENV === \"dev\") {\r\n\tstore.dispatch(isLoggedIn(\"admin123\"));\r\n}\r\n\r\nif (localStorage.sessionCookie && localStorage.sessionUser) {\r\n\tconst session = JSON.parse(localStorage.sessionCookie);\r\n\tconst currentUser = JSON.parse(localStorage.sessionUser);\r\n\r\n\t// This dispatch prevents quick redirection on page refresh while user is logged in (before the async isLoggedIn action bellow is done)\r\n\tstore.dispatch({\r\n\t\ttype: \"auth/isLoggedIn\",\r\n\t\tpayload: { user: currentUser },\r\n\t});\r\n\r\n\t// has session expired ?\r\n\tlet now = new Date();\r\n\tlet sessionEnd = new Date(session.expires);\r\n\tif (sessionEnd.getTime() < now.getTime()) {\r\n\t\tconsole.log(\"Session ended >>> Redirection to homepage.\");\r\n\t\tlocalStorage.removeItem(\"sessionCookie\");\r\n\t\tlocalStorage.removeItem(\"sessionUser\");\r\n\t\tstore.dispatch({\r\n\t\t\ttype: \"auth/logout\",\r\n\t\t\tpayload: {\r\n\t\t\t\tsuccessMessage: \"La session a expirée. Reconnectez-vous.\",\r\n\t\t\t},\r\n\t\t});\r\n\t} else {\r\n\t\tstore.dispatch(isLoggedIn(currentUser._id));\r\n\t}\r\n} else {\r\n\tlocalStorage.removeItem(\"sessionCookie\");\r\n\tlocalStorage.removeItem(\"sessionUser\");\r\n}\r\n\r\n/* --------------------------------- */\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}